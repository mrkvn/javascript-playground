<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="/styles.css" rel="stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();

    function updateState(state) {
      let htmlStr = ""
      for (let i = 0; i < state.length; i++) {
        for (let j = 0; j < state[i].length; j++) {
          if (state[i][j].length > 0) {
            htmlStr += `
<span class="w-2 inline-block text-center">o</span>`
          } else {
            htmlStr += `
<span class="w-2 inline-block text-center">.</span>`
          }
        }
        htmlStr += `
<br>`
      }
      $('main').html(htmlStr)
    }
    socket.on('update', function(data) {
      console.log('update', data)
      updateState(data.state)
    })
  </script>
</head>

<body>
  <div class="container mx-auto">
    <main class="mt-5">
      <!-- <span class="w-2 inline-block">o</span>
      <span class="w-2 inline-block">o</span>
      <span class="w-2 inline-block"> </span>
      <br>
      <span class="w-2 inline-block"> </span>
      <span class="w-2 inline-block">o</span>
      <span class="w-2 inline-block"> </span>
      <br>
      <span class="w-2 inline-block"> </span>
      <span class="w-2 inline-block">o</span>
      <span class="w-2 inline-block"></span>
      <br> -->
    </main>
  </div>
</body>

</html>